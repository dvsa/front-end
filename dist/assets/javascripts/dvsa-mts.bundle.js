/*!
 * 
 *   Name: dvsa-front-end/dvsa-mts
 *   Version: 1.8.6
 *   Timestamp: July 23rd 2025, 8:07:03 pm
 *   Source: https://github.com/dvsa/front-end
 *
 */!function(){"use strict";var e,t={25493:function(e,t,r){r(84315),r(7452),r(76192);var n=r(70024);r(52675),r(89463),r(2259),r(45700),r(23418),r(23792),r(89572),r(62010),r(2892),r(26099),r(84864),r(27495),r(38781),r(47764),r(23500),r(62953);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var u=a(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,"init",function(){t.grabCriteriaFromDOM(),t.addEvents()}),s(this,"grabCriteriaFromDOM",function(){t.elements.criteriaElements&&t.elements.criteriaElements.forEach(function(e){var r=e.getAttribute(t.attributes.name),n=e.getAttribute(t.attributes.param);r&&t.criteria.push({name:r,param:n,element:e})})}),s(this,"addEvents",function(){(0,n.AS)(document,"keyup",t.selectors.passwordElement,t.checkCriteriaHandler),(0,n.AS)(document,"paste",t.selectors.passwordElement,t.checkCriteriaHandler),(0,n.AS)(document,"keypress",t.selectors.passwordElement,t.checkCriteriaHandler)}),s(this,"checkCriteriaHandler",function(){if(t.elements.passwordElement){var e=t.elements.passwordElement.value;t.criteria.forEach(function(r){var o=r.name,i=r.param,a=r.element;o&&a&&(t[o](e,i)?((0,n.p1)(a,t.classnames.pass,!0),(0,n.p1)(a,t.classnames.fail,!1)):((0,n.p1)(a,t.classnames.pass,!1),(0,n.p1)(a,t.classnames.fail,!0)))})}}),s(this,"hasMixedCase",function(e){return!!/^(?=.*[a-z])(?=.*[A-Z]).+$/.test(e)}),s(this,"minLength",function(e,t){return!!new RegExp("^.{".concat(t,",}$")).test(e)}),s(this,"notMatch",function(e,t){return e===t}),s(this,"hasNumeric",function(e){return!!/[0-9]/.test(e)}),s(this,"hasUpperCase",function(e){return!!/[A-Z]/.test(e)}),s(this,"hasLowerCase",function(e){return!!/[a-z]/.test(e)}),this.classnames={neurtal:"criteria__criterion",fail:"criteria__criterion--has-failed",pass:"criteria__criterion--has-passed"},this.attributes={name:"data-criteria",param:"data-criteria-param"},this.selectors={criteriaElement:"[".concat(this.attributes.name,"]"),passwordElement:"#password"},this.criteria=[],this.elements={criteriaElements:Array.from(document.querySelectorAll(this.selectors.criteriaElement)),passwordElement:document.querySelector(this.selectors.passwordElement)},this.init()});r(25276);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function m(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var p=m(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"init",function(){t.setupInitialStateFromDOM(),(0,n.AS)(document,"change",t.selectors.selectElements,t.selectChangeHandler)}),d(this,"setupInitialStateFromDOM",function(){t.elements.selectElements&&t.elements.selectElements.forEach(function(e){t.updateSelectFieldStateFromDOM(e)})}),d(this,"selectChangeHandler",function(e){var r=e.target;r&&t.updateSelectFieldStateFromDOM(r)}),d(this,"updateSelectFieldStateFromDOM",function(e){if(e){var r=t.getElementDetails(e);r&&(-1!==r.targetValues.indexOf(e.value)?(r.targetElement.display="block",(0,n.p1)(r.targetElement,t.classnames.jsHidden,!1)):(r.targetElement.display="none",(0,n.p1)(r.targetElement,t.classnames.jsHidden,!0)),t.updateAriaAttributes(e),t.clearAllInputData(e))}}),d(this,"getElementDetails",function(e){if(!e)return!1;var r=e.getAttribute(t.attributes.target),n=document.querySelector("#".concat(r)),o=e.getAttribute(t.attributes.targetValue);return!(!r||!n)&&{targetId:r,targetElement:n,targetValues:o.split(",")}}),d(this,"updateAriaAttributes",function(e){if(e){var r=t.getElementDetails(e);r&&(e.setAttribute(t.attributes.aria.controls,r.targetId),-1!==r.targetValues.indexOf(e.value)?e.setAttribute(t.attributes.aria.expanded,!0):e.setAttribute(t.attributes.aria.expanded,!1))}}),d(this,"clearAllInputData",function(e){var r=Array.from(e.querySelectorAll(t.selectors.inputs));r&&r.forEach(function(e){e.getAttribute(t.attributes.retainValue)||(e.value="")})}),this.classnames={jsHidden:"js-hidden"},this.attributes={target:"data-target",targetValue:"data-target-value",retainValue:"retain-value",aria:{controls:"aria-controls",hidden:"aria-hidden",expanded:"aria-expanded"}},this.selectors={selectElements:"select[".concat(this.attributes.target,"]"),inputs:'textarea:not([value=""]), input[type="text"], input[type="email"], input[type="password"], input[type="tel"]'},this.elements={selectElements:Array.from(document.querySelectorAll(this.selectors.selectElements))},this.init()}),y=(r(60739),r(83503)),h=r.n(y);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function S(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t,r){return(t=k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}var A=S(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"init",function(){t.addEvents()}),w(this,"addEvents",function(){(0,n.AS)(document,"submit",t.selectors.preventDoubleClickForm,t.submitFormHandler)}),w(this,"submitFormHandler",function(e){var r=h()(JSON.stringify(e));if(-1===t.state.validatedForms.indexOf(r)){var n=e.target.getAttribute(t.attributes.submitButtonId),o=document.querySelector("#".concat(n));o&&o.setAttribute(t.attributes.disabled,t.attributes.disabled)}else e.preventDefault()}),this.classnames={preventDoubleClickForm:"prevent-double-click-form"},this.attributes={submitButtonId:"submit-button-id",disabled:"disabled"},this.selectors={preventDoubleClickForm:".".concat(this.classnames.preventDoubleClickForm)},this.state={validatedForms:[]}}),T=(r(28706),r(33319));function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function O(e,t,r){return t&&E(e.prototype,t),r&&E(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}var P=O(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"init",function(){t.addEvents()}),C(this,"addEvents",function(){(0,n.AS)(document,"click",t.selectors.buttonMarkRepaired,t.markRepairedButtonClickHandler)}),C(this,"markRepairedButtonClickHandler",function(e){e.preventDefault();var r=e.target;if(r){r.disabled=!0;var o=(0,n.Yh)(r,t.selectors.rfrForm),i=(0,n.Yh)(r,t.selectors.rfrItem),a=i.querySelector(t.selectors.itemStatus);if(!o||!i||!a)return console.warn("Could not find RFR form, RFR item and status DOM elements");var s=o.getAttribute(t.attributes.action)||r.getAttribute(t.attributes.url),l=(0,n.n_)(o)||r.getAttribute(t.attributes.form);if(!s||!l)return console.warn("Could not find route URL or form data");(0,n.p1)(i,t.classnames.hasStatus,!0),(0,n.p1)(i,t.classnames.hasSuccess,!1),a.textContent=t.messages.loading;var u='That didn\'t work, <a class="js-buttonMarkRepaired" href="" data-url="'.concat(s,'" data-form="').concat(l,'">try again</a>');T.A.post(s,l,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var o=e.data;o&&o.success?((0,n.p1)(i,t.classnames.hasStatus,!1),(0,n.p1)(i,t.classnames.hasSuccess,o.action===t.responseActions.repair),t.updateCount(o.defectType,o.action,o.failureType),t.updateBrakeTest(o.brakeTestOutcome,o.brakesTested,o.brakeTestResults,o.disableSubmitButton),r.disabled=!1):a.innerHTML=u}).catch(function(e){a.innerHTML=u,r.disabled=!1})}}),C(this,"updateCount",function(e,r,n){switch(e){case"advisory":t.updateCountForAllElements(t.elements.numberOfAdvisories,r,n);break;case"minor":t.updateCountForAllElements(t.elements.numberOfMinors,r,n);break;case"failure":t.updateCountForAllElements(t.elements.numberOfFailures,r,n);break;default:return console.warn("Invalid type")}}),C(this,"updateCountForAllElements",function(e,r,n){e&&Array.isArray(e)&&e.forEach(function(e){("emissionsTest"===n&&e.classList.contains(t.selectors.emissionsTestFailures)||"defect"===n&&e.classList.contains(t.selectors.defectFailures)||null==n)&&t.updateCountForElement(e,r)})}),C(this,"updateCountForElement",function(e,r){if(e){var n=parseInt(e.textContent)||0;r===t.responseActions.repair?n--:n++,e.textContent=n}}),C(this,"updateBrakeTest",function(e,r,o,i){if(!t.elements.actionPanel)return console.warn("Could not find brake tests action panel");t.elements.brakeTest.testStatus&&(t.elements.brakeTest.testStatus.textContent=e),t.elements.brakeTest.actions&&(!0===r&&!0===o?(0,n.p1)(t.elements.brakeTest.actions,t.classnames.uHidden,!1):(0,n.p1)(t.elements.brakeTest.actions,t.classnames.uHidden,!0)),t.elements.brakeTest.addBrakeTest&&(!1===r||!0===o?(0,n.p1)(t.elements.brakeTest.addBrakeTest,t.classnames.uHidden,!0):(0,n.p1)(t.elements.brakeTest.addBrakeTest,t.classnames.uHidden,!1)),t.elements.brakeTest.summary&&!1===r&&t.elements.brakeTest.summary.remove(),t.elements.brakeTest.reviewTestButton&&(t.elements.brakeTest.reviewTestButton.disabled=!0===i)}),this.classnames={uHidden:"u-hidden",hasStatus:"has-status",hasSuccess:"has-success"},this.attributes={disabled:"disabled",action:"action",url:"data-url",form:"data-form"},this.selectors={brakeTest:{actionPanel:".js-brakeTestActionPanel",testStatus:".js-brakeTestStatus",addBrakeTest:".js-addBrakeTest",actions:".js-brakeTestActions",reviewTestButton:".js-reviewTestButton",summary:".js-brakeTestSummary"},numberOfFailures:".js-numberOfFailures",numberOfAdvisories:".js-numberOfAdvisories",numberOfMinors:".js-numberOfMinors",buttonMarkRepaired:".js-buttonMarkRepaired",rfrForm:".js-rfrForm",rfrItem:".js-rfrItem",itemStatus:".js-itemStatus",emissionsTestFailures:"js-emissionsTestFailures",defectFailures:"js-defectFailures"},this.elements={brakeTest:{testStatus:document.querySelector(this.selectors.brakeTest.testStatus),addBrakeTest:document.querySelector(this.selectors.brakeTest.addBrakeTest),actions:document.querySelector(this.selectors.brakeTest.actions),reviewTestButton:document.querySelector(this.selectors.brakeTest.reviewTestButton),summary:document.querySelector(this.selectors.brakeTest.summary)},actionPanel:document.querySelector(this.selectors.brakeTest.actionPanel),numberOfFailures:Array.from(document.querySelectorAll(this.selectors.numberOfFailures)),numberOfAdvisories:Array.from(document.querySelectorAll(this.selectors.numberOfAdvisories)),numberOfMinors:Array.from(document.querySelectorAll(this.selectors.numberOfMinors))},this.responseActions={repair:"repair"},this.messages={loading:"Loading"},this.init()});function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D(n.key),n)}}function H(e,t,r){return t&&q(e.prototype,t),r&&q(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t,r){return(t=D(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}var M=H(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"init",function(){t.setupInitialStateFromDOM(),t.addEvents()}),I(this,"setupInitialStateFromDOM",function(){t.elements.showHideToggles&&t.elements.showHideToggles.forEach(function(e){var r=t.getElementDetails(e);if(r){var o=r.targetState!==t.targetStates.open;o?(r.toggleType!==t.toggleTypes.responsive&&r.targetElement?(0,n.p1)(r.targetElement,t.classnames.jsHidden,o):(0,n.p1)(r.targetElement,t.classnames.hideSmall,o),r.toggleType===t.toggleTypes.class&&r.targetElements&&r.targetElements.forEach(function(e){(0,n.p1)(e,t.classnames.jsHidden,o)})):((0,n.p1)(r.targetElement,t.classnames.jsHidden,!1),e.textContent=r.openedText)}})}),I(this,"addEvents",function(){(0,n.AS)(document,"click",t.selectors.showHideToggle,t.showHideToggleClickHandler)}),I(this,"showHideToggleClickHandler",function(e){e.target,e.preventDefault(),t.updateElementState(e.target)}),I(this,"updateElementState",function(e){if(e){var r=t.getElementDetails(e);if(r){var o=r.targetState===t.targetStates.closed;if(r.toggleType===t.toggleTypes.responsive&&r.targetElement?(0,n.p1)(r.targetElement,t.classnames.hideSmall,!o):(0,n.p1)(r.targetElement,t.classnames.jsHidden,!o),r.toggleType===t.toggleTypes.class&&r.targetElements&&r.targetElements.forEach(function(e){(0,n.p1)(e,t.classnames.jsHidden,!o)}),e.setAttribute(t.attributes.targetState,o?t.targetStates.open:t.targetStates.closed),t.updateAllShowHideToggles(),r.targetId){var i=document.querySelector("#".concat(r.targetId,"Parent"));i&&i.scrollIntoView(!0)}}}}),I(this,"updateAllShowHideToggles",function(){t.elements.showHideToggles&&t.elements.showHideToggles.forEach(function(e){var r=t.getElementDetails(e);if(r){var o=r.targetState===t.targetStates.closed;e.textContent=o?r.closedText:r.openedText,r.diableToggleSwitchClass||((0,n.p1)(e,t.classnames.toggleSwitch,!o),(0,n.p1)(e,t.classnames.toggleSwitchOpen,o))}})}),I(this,"getElementDetails",function(e){if(e){var r=e.getAttribute(t.attributes.openedText),n=e.getAttribute(t.attributes.closedText),o=e.getAttribute(t.attributes.target),i=e.getAttribute(t.attributes.toggleType),a=!!o&&document.querySelector("#".concat(o)),s=e.getAttribute(t.attributes.targetState),l=e.getAttribute(t.attributes.toggleClass),u=e.getAttribute(t.attributes.initialState),c=!(i!==t.toggleTypes.class||!l)&&Array.from(document.querySelectorAll(".".concat(l))),f=e.getAttribute(t.attributes.disableToggleSwitchClass);if(a||c)return{openedText:r,closedText:n,targetId:o,toggleType:i,targetElement:a,targetState:s,toggleClass:l,initialState:u,targetElements:c,disableToggleSwitchClass:f}}}),this.classnames={jsHidden:"js-hidden",hideSmall:"hide-small",toggleSwitch:"toggle-switch",toggleSwitchOpen:"toggle-switch--open"},this.attributes={targetState:"data-target-state",openedText:"data-opened-text",target:"data-target",toggleType:"data-toggle-type",closedText:"data-closed-text",toggleClass:"data-toggle-class",disableToggleSwitchClass:"data-disable-toggle-switch-class",initialState:"data-initial-state"},this.targetStates={closed:"closed",open:"open"},this.selectors={showHideToggle:'[data-action="showHideToggle"]'},this.elements={showHideToggles:Array.from(document.querySelectorAll(this.selectors.showHideToggle))},this.toggleTypes={responsive:"responsive",class:"class"},this.init()});function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function B(e,t,r){return t&&N(e.prototype,t),r&&N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e,t,r){return(t=V(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}var U=B(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,"init",function(){(0,n.AS)(document,"submit",t.selectors.form,t.onFormSubmit)}),R(this,"onFormSubmit",function(e){if(!e.target||!e.target.getAttribute(t.attributes.ignoreFormDisableDetails)){var r=Array.from(document.querySelectorAll(t.selectors.details));r&&Array.isArray(r)&&r.forEach(function(e){if(e){var r=Array.from(e.querySelectorAll("input"));r&&Array.isArray(r)&&r.forEach(function(e){e&&(0,n.n8)(e)&&e.setAttribute(t.attributes.disabled,t.attributes.disabled)})}})}}),this.selectors={form:"form",details:"details"},this.attributes={disabled:"disabled",ignoreFormDisableDetails:"data-ignore-form-disable-details"},this.init()});function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q(n.key),n)}}function Y(e,t,r){return t&&z(e.prototype,t),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}var $=Y(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Z(this,"init",function(){(0,n.AS)(document,"click",t.selectors.unknown,t.onUnknownOrNoOdometerClick),(0,n.AS)(document,"click",t.selectors.noOdometer,t.onUnknownOrNoOdometerClick),(0,n.AS)(document,"click",t.selectors.odometer,t.onOdometerClick)}),Z(this,"onUnknownOrNoOdometerClick",function(e){t.elements.odometer.value=""}),Z(this,"onOdometerClick",function(e){t.elements.odoInputRadio.click()}),this.selectors={unknown:".js-unknown",noOdometer:".js-noOdometer",odometer:".js-odometer",odoInputRadio:".js-odoInputRadio"},this.elements={odometer:document.querySelector(this.selectors.odometer),odoInputRadio:document.querySelector(this.selectors.odoInputRadio)},this.elements.odometer&&this.elements.odoInputRadio&&this.init()});function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G(n.key),n)}}function W(e,t,r){return t&&K(e.prototype,t),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function X(e,t,r){return(t=G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e){var t=function(e,t){if("object"!=J(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J(t)?t:t+""}var ee=W(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,"init",function(){(0,n.AS)(document,"submit",t.selectors.form,t.onFormSubmit),t.setupAllFormsInState()}),X(this,"setupAllFormsInState",function(){t.elements.forms&&t.elements.forms.forEach(function(e){t.state.forms.push({element:e,submitted:!1}),e.setAttribute(t.attributes.formStateIndex,t.state.forms.length-1)})}),X(this,"onFormSubmit",function(e){if(e&&e.target&&!e.target.getAttribute(t.attributes.ignoreFormDisableSubmitButton)){var r=e.target,n=r.getAttribute(t.attributes.formStateIndex),o=t.state.forms[n]||!1,i=r.querySelector(t.selectors.submitButton);if(i&&o&&!o.submitted){var a=i.getAttribute(t.attributes.value),s=i.getAttribute(t.attributes.name),l=document.createElement("input");l.type="hidden",l.name=s,l.value=a,i.parentNode.appendChild(l),i.name="",i.setAttribute(t.attributes.disabled,t.attributes.disabled),t.state.forms[n].submitted=!0}}}),this.selectors={form:"form",submitButton:'input[type="submit"]'},this.attributes={disabled:"disabled",value:"value",name:"name",formStateIndex:"data-form-state-index",ignoreDisableFormSubmit:"data-ignore-form-disable-submit-button"},this.elements={forms:Array.from(document.querySelectorAll(this.selectors.form))},this.state={forms:[]},this.init()});function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ie(n.key),n)}}function ne(e,t,r){return t&&re(e.prototype,t),r&&re(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e,t,r){return(t=ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}var ae=ne(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oe(this,"init",function(){(0,n.UL)(t.elements.type,"change",t.updateFormBasedOnTypeValue),t.updateFormBasedOnTypeValue()}),oe(this,"updateFormBasedOnTypeValue",function(){t.elements.vtsSearch.setAttribute(t.attributes.placeholder,t.messages.placeholders[t.elements.type.value]),t.elements.searchValueLabelText.innerText=t.messages.inputLabels[t.elements.type.value],t.elements.form.setAttribute(t.attributes.action,"".concat(t.state.baseUrl,"/").concat(t.elements.type.value)),-1!==[t.state.typeOptions.vtsDate,t.state.typeOptions.tester].indexOf(t.elements.type.value)?t.elements.dateRangeFields.style.display="block":t.elements.dateRangeFields.style.display="none"}),this.elements={form:document.querySelector("#vts-search-form"),type:document.querySelector("#type"),dateRangeFields:document.querySelector("#dateRangeFields"),dates:{month1:document.querySelector("#month1"),year1:document.querySelector("#year1"),month2:document.querySelector("#month2"),year2:document.querySelector("#year2")},searchFieldRow:document.querySelector("#search-field-row"),searchValueLabel:document.querySelector("#search-value-label"),searchValueLabelText:document.querySelector("#search-value-label-text"),vtsSearch:document.querySelector("#vts-search")},this.attributes={baseUrl:"data-base-url",action:"action",placeholder:"placeholder"},this.state={baseUrl:"",typeOptions:{vts:"vts",vtsDate:"vtsDate",tester:"tester",vrm:"vrm",vin:"vin",testNumber:"testNumber"}},this.messages={placeholders:{vts:"eg. V12345",vtsDate:"eg. V12345",tester:"enter username",vrm:"eg. VK02 MOT",vin:"eg. WV1ZZZ8ZH6H091596",testNumber:"eg. 999999999014"},inputLabels:{vts:"Site name",vtsDate:"Site name",tester:"Tester name",vrm:"Vehicle registration",vin:"Vehicle VIN",testNumber:"MOT test number"}},this.elements.form&&(this.state.baseUrl=this.elements.form.getAttribute(this.attributes.baseUrl),this.init())}),se=(r(34782),r(2008),r(62062),r(85169));function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ue(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ce(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,be(n.key),n)}}function me(e,t,r){return t&&fe(e.prototype,t),r&&fe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function de(e,t,r){return(t=be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e){var t=function(e,t){if("object"!=le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==le(t)?t:t+""}var pe=me(function e(t){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),de(this,"init",function(){r.state.elements.count=r.countNumOfCheckboxItems(),r.state.elements.checkboxes.forEach(function(e){return(0,se.UL)(e,"change",r.toggleChecks)})}),de(this,"toggleChecks",function(e){var t=ge.classes.checkAll,n=e.target.classList.contains(t),o=r.countCheckedItems();if(n||o==r.state.elements.count)return r.selectAllToggleState();r.state.allChecked=!1,r.state.elements.allTarget.checked=!1}),de(this,"selectAllToggleState",function(){r.state.allChecked=!r.state.allChecked,r.state.elements.allTarget.checked=r.state.allChecked,r.state.elements.checkboxes.map(function(e){return e.checked=r.state.allChecked})}),de(this,"countNumOfCheckboxItems",function(){return r.state.elements.checkboxes.filter(r.excludeCheckAll).length}),de(this,"countCheckedItems",function(){return r.state.elements.checkboxes.filter(r.excludeCheckAll).filter(function(e){return e.checked}).length}),de(this,"excludeCheckAll",function(e){if(!e.classList.contains(ge.classes.checkAll))return e}),t){var n=ue(t.querySelectorAll("input")),o=t.querySelector(".".concat(ge.classes.checkAll));this.state={allChecked:!1,elements:{allTarget:o,checkboxes:n,count:0}},this.init()}});function ye(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ge={classes:{groupContainer:"js-check-all-group",checkAll:"js-check-all"}},ve=(r(74423),r(48598),r(21699),{component:".js-filter-wrapper",messageList:".js-message-list",checkboxes:".js-message-filter",filteredView:".js-message-panel",filterNotice:"message-panel__notice"}),Se={noFilterNotice:"Select a message type to view",noMessagesNotice:"No messages",messages:"[data-type]"},we=r(22524);r(5746);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ae(e){return function(e){if(Array.isArray(e))return Te(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Te(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ee(e,t,r){return t&&je(e.prototype,t),r&&je(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oe(e,t,r){return(t=Ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}var Fe=Ee(function e(t){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Oe(this,"init",function(){Array.from(r.elements.checkboxes).forEach(function(e){(0,we.UL)(e,"change",r.handleCheck)}),"sn"==function(e){for(var t=window.location.search.substring(1).split("&"),r=0;r<t.length;r++){var n=t[r].split("=");if(n[0]==e)return n[1]}return!1}("filter")&&r.filterSpecialNotices(),r.handleCheck()}),Oe(this,"filterSpecialNotices",function(){var e=[],t="Special notice";r.elements.checkboxes.forEach(function(r){r.checked=!1,r.attributes["data-type"].value==t&&(r.checked=!0),e.push(t)}),r.state.currFilters=e,r.filterMessages(r.state.currFilters)}),Oe(this,"handleCheck",function(e){var t=[],n=[],o=!0;r.elements.checkboxes.forEach(function(e){if(e.checked){var r=e.attributes["data-type"].value;t.push(r);var o=e.attributes["data-filter"].value;n.push(o)}}),t.length===r.elements.checkboxes.length&&(o=!1),r.state.currFilters=t,r.filterMessages(r.state.currFilters),o?r.updateMessageLinks(n.join("+")):r.updateMessageLinks()}),Oe(this,"filterMessages",function(e){var t=Array.from(r.elements.messageItems),n=0;t.forEach(function(t){var r=t.attributes["data-type"].value;e.includes(r)?t.classList.remove("hidden"):(t.classList.add("hidden"),n++)});var o=document.querySelector(".message-panel__notice");o.style.display="none",0===r.state.currFilters.length?(o.innerHTML=Se.noFilterNotice,o.style.display="block"):0!==t.length&&t.length!==n||(o.innerHTML=Se.noMessagesNotice,o.style.display="block")}),Oe(this,"updateMessageLinks",function(e){r.elements.messageItems.forEach(function(t){Array.from(t.querySelectorAll("a")).forEach(function(t){var r=t.href;r=r.split("?")[0],e&&(r="".concat(r,"?filter=").concat(e)),t.href=r})})}),t){var n=t,o=document.querySelector(".js-message-list"),i=Ae(n.querySelectorAll(ve.checkboxes)),a=Ae(o.querySelectorAll(Se.messages)),s=n.querySelector(ve.filteredView),l=document.querySelector(ve.messageList),u=document.createElement("p");u.classList.add("".concat(ve.filterNotice)),u.style.display="none",l.parentNode.insertBefore(u,l),this.elements={component:n,checkboxes:i,messageList:o,messageItems:a,filteredView:s,filterNoticeTarget:l};var c=this.elements.checkboxes.map(function(e){return e.attributes["data-type"].value});this.state={allFilters:c,currFilters:c},this.init()}});r(25440);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qe(n.key),n)}}function qe(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}var He=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()}return t=e,n=[{key:"resize",value:function(e,t){e.style.height="auto",e.style.height=e.scrollHeight+t+"px"}}],(r=[{key:"init",value:function(){document.querySelectorAll("textarea.autoresize").forEach(function(t){t.style.boxSizing="border-box";var r=t.offsetHeight-t.clientHeight;e.resize(t,r),t.addEventListener("input",function(){e.resize(t,r)})})}}])&&xe(t.prototype,r),n&&xe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}(),Ie=function(){var e,t,r;new u,new p,new A,new P,new M,new U,new $,new ee,new ae,(e=document.querySelectorAll(".".concat(ge.classes.groupContainer)))&&ye(e).forEach(function(e){return new pe(e)}),function(){var e,t=document.querySelectorAll(".js-filter-wrapper");if(!(t.length<1))for(e=0;e<t.length;++e)new Fe(t[e])}(),t=document.querySelector(".js-password-behaviour"),r=function(){""===t.value?t.style.color="#FFF":t.style.color="#000"},t&&(t.onkeypress=function(e){if("Enter"===e.key)return document.getElementById("Login").submit(),!1},t.oncontextmenu=function(e){void 0!==e.preventDefault&&e.preventDefault(),void 0!==e.stopPropagation&&e.stopPropagation()},t.onkeydown=function(e){if(("c"===e.key||"x"===e.key)&&(e.metaKey||e.ctrlKey))return!1},t.onpaste=function(e){var n,o;e.stopPropagation(),e.preventDefault(),void 0!==(n=e.clipboardData||window.clipboardData)&&(o=n.getData("Text"),t.value=o.replace(/\n/g,"").replace(/\v/g,"").replace(/\f/g,"").replace(/\r/g,"")),r()},t.ondragstart=function(e){return e.preventDefault()},t.oncopy=function(e){return!1},t.oncut=function(e){return!1},t.onfocus=function(e){r()},t.oninput=function(e){r()}),new He};(0,n.Qc)(function(){(0,n.J)(),Ie()})},60642:function(e,t,r){r.d(t,{n:function(){return n}});var n=function(e){return!o(e)},o=function(e){return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}},70024:function(e,t,r){r.d(t,{AS:function(){return n.AS},J:function(){return o.J},Qc:function(){return n.Qc},UL:function(){return n.UL},Yh:function(){return n.Yh},n8:function(){return n.n8},n_:function(){return i.n},p1:function(){return n.p1}});var n=r(85169),o=r(69865),i=r(5625)},85169:function(e,t,r){r.d(t,{AS:function(){return i.AS},Qc:function(){return n.Q},UL:function(){return i.UL},Yh:function(){return a.Y},n8:function(){return s.n},p1:function(){return o.p}});var n=r(28343),o=(r(23412),r(26140)),i=r(22524),a=r(79115),s=r(60642)}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,n.amdO={},e=[],n.O=function(t,r,o,i){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],i=e[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every(function(e){return n.O[e](r[l])})?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,o,i]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=476,function(){var e={476:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],s=r[1],l=r[2],u=0;if(a.some(function(t){return 0!==e[t]})){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var c=l(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self.webpackChunkdvsa_front_end=self.webpackChunkdvsa_front_end||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var o=n.O(void 0,[121],function(){return n(25493)});o=n.O(o)}();