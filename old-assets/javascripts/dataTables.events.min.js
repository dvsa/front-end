/*! web-frontend-assets 17-01-2018 */
var EventListHelper=function(isShowDate,ajaxUrl){var eListLs=$("#listLogs"),oTable=eListLs.dataTable({bPaginate:!0,bLengthChange:!0,bFilter:!0,bSort:!0,aaSorting:[[1,"desc"]],bInfo:!0,bAutoWidth:!0,oLanguage:{sSearch:"Filter:",sLengthMenu:"Show _MENU_ events per page",sInfo:"_START_ to _END_ events showing from a total of _TOTAL_ ",sInfoFiltered:"(filtered from _MAX_ events)",sInfoEmpty:"No events to show"},lengthMenu:[[10,25,50],[10,25,50]],dom:'<"top"if>rt<"bottom"lp><"clear">',aoColumns:[{mData:"type"},{mData:"date"},{mData:"description"}],aoColumnDefs:[{sClass:"longer-truncate",aTargets:[2]},{aTargets:[0],render:function(data){return'<a href="'+data.url+'">'+data.type+"</a>"}}],sAjaxDataProp:"data",sServerMethod:"POST",bProcessing:!0,bServerSide:!0,bDeferRender:!1,sAjaxSource:ajaxUrl,fnServerData:function(sSource,aoData,fnCallback){aoData.push({name:"goBack",value:$('input[name="go_back_link"]').val()}),aoData.push({name:"_csrf_token",value:$('input[name="_csrf_token"]').val()}),aoData.push({name:"search",value:$("#search").val()}),aoData.push({name:"isShowDate",value:$("#isShowDate").val()}),aoData.push({name:"dateFrom[Day]",value:$("#dateFrom-Day").val()}),aoData.push({name:"dateFrom[Month]",value:$("#dateFrom-Month").val()}),aoData.push({name:"dateFrom[Year]",value:$("#dateFrom-Year").val()}),aoData.push({name:"dateTo[Day]",value:$("#dateTo-Day").val()}),aoData.push({name:"dateTo[Month]",value:$("#dateTo-Month").val()}),aoData.push({name:"dateTo[Year]",value:$("#dateTo-Year").val()}),$.getJSON(sSource,aoData,function(json){fnCallback(json),$("table.dataTable tr td:nth-child(2n)").each(function(){var tempDate=$(this).html(),stringParts=tempDate.split(","),newDate=stringParts[0];$(this).html(newDate)});var eventsTitle=$("#events-title"),eventTitleSource=$("#listLogs_info"),eventsTitleText=$(eventTitleSource).html();$(eventsTitle).html(eventsTitleText),$(eventTitleSource).css("display","none")})}});eListLs.find("thead").attr("style","background-color:#DEE0E2;"),$(".dataTables_filter").hide(),$("#searchbox").keyup(function(){oTable.fnFilter(this.value)});var dataTables_length=$(".dataTables_length"),length_selector=dataTables_length.find("select"),length_selector_label=dataTables_length.find("label");$(length_selector_label).hide(),$(".page-results-control").find("a").click(function(){$(length_selector).val(this.text),$(length_selector).trigger("change");var currentPageLength=$(length_selector).find(":selected").text();$(".page-results-control").find("a").removeClass("item-link-disabled"),$("a#length"+currentPageLength).addClass("item-link-disabled")});var dateRangeFields=$("#dateRangeFields"),isShowDateInput=$("#isShowDate"),allEvents=$("#allEvents"),searchInput=$("#search");$("#customRange").click(function(){dateRangeFields.show("slow"),isShowDateInput.val(1)}),$(dateRangeFields).find("input[type=submit]").click(function(){isShowDateInput.val(1)}),allEvents.click(function(){return!$(this).hasClass("item-bold-link-disabled")&&(0!==searchInput.val().length&&$(this).attr("href",$(this).attr("href")+"?search="+searchInput.val()),!0)});var currentPageLength=$(length_selector).find(":selected").text();$("a#length"+currentPageLength).addClass("item-link-disabled")};